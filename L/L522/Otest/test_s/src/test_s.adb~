with Ada.Real_Time; use Ada.Real_Time;
with NS_Api;        use NS_Api;
with Stask;         use Stask;
with STM32.Board;   use STM32.Board;

with Ada.Real_Time; use Ada.Real_Time;

procedure Test_S is
   procedure S_To_NS;
   pragma Import (C, S_To_NS, "s_to_ns");
--   procedure Init_IDAU;
--   pragma Import (C, Init_IDAU, "init_idau");
   procedure My_Delay;

   procedure My_Delay is
   begin
      delay until Clock + Milliseconds (100);
   end My_Delay;
begin
   Initialize_Board;
   loop
      for Led of LEDs loop
         Turn_On (LED);
         My_Delay;
      end loop;
      for Led of LEDs loop
         Turn_Off (LED);
         My_Delay;
      end loop;
   end loop;
--   Init_IDAU;
   S_To_NS; --  S_To_NS will not return.
--   loop
--      null;
--   end loop;
end Test_S;
